<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Material.Icons.WinUI3.Demo.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Material.Icons.WinUI3.Demo"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="using:System"
    xmlns:winUi3="using:Material.Icons.WinUI3"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance local:MainViewModel}">

  <Grid x:Name="Root" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Grid.Resources>
      <local:StringJoinConverter x:Key="StringJoinConverter" Separator="{x:Bind system:Environment.NewLine}" />
      <Style x:Key="SampleBorderStyle" TargetType="Border">
        <Setter Property="Margin" Value="4" />
        <Setter Property="Padding" Value="8" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{ThemeResource SystemBaseMediumLowColor}" />
        <Setter Property="Background" Value="{ThemeResource SystemChromeLowColor}" />
      </Style>
      <Style x:Key="HeaderTextStyle" TargetType="TextBlock">
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Margin" Value="0,0,0,4" />
        <Setter Property="FontSize" Value="12" />
      </Style>
      <Style x:Key="CodeBlockStyle" TargetType="TextBox">
        <Setter Property="FontFamily" Value="Consolas" />
        <Setter Property="Background" Value="{ThemeResource SystemBaseLowColor}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{ThemeResource SystemBaseMediumLowColor}" />
        <Setter Property="Padding" Value="4,2" />
        <Setter Property="IsReadOnly" Value="True" />
        <Setter Property="TextWrapping" Value="Wrap" />
        <Setter Property="Margin" Value="0,4,0,0" />
      </Style>
    </Grid.Resources>

    <!-- Main content area -->
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="320" />
      </Grid.ColumnDefinitions>

      <!-- Icons grid panel with search -->
      <Grid Grid.Column="0">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <!-- Search bar -->
        <Border Grid.Row="0" Background="{ThemeResource SystemChromeLowColor}" 
                BorderBrush="{ThemeResource SystemBaseMediumLowColor}" BorderThickness="0,0,0,1" 
                Padding="8,4">
          <TextBox PlaceholderText="Search icons..." 
                   Text="{Binding SearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                   VerticalAlignment="Center" />
        </Border>
        
        <!-- Icons grid -->
        <GridView Grid.Row="1"
                  ItemsSource="{Binding Kinds.View}"
                  SelectedItem="{Binding Group, Mode=TwoWay}"
                  SelectionMode="Single"
                  IsItemClickEnabled="True"
                  Background="Transparent"
                  Padding="2">
          <GridView.ItemContainerStyle>
            <Style TargetType="GridViewItem">
              <Setter Property="Margin" Value="2" />
              <Setter Property="Padding" Value="0" />
              <Setter Property="MinWidth" Value="72" />
              <Setter Property="MinHeight" Value="72" />
              <Setter Property="HorizontalContentAlignment" Value="Stretch" />
              <Setter Property="VerticalContentAlignment" Value="Stretch" />
              <Setter Property="Background" Value="Transparent" />
            </Style>
          </GridView.ItemContainerStyle>
          <GridView.ItemTemplate>
            <DataTemplate x:DataType="local:PackIconKindGroup">
              <Grid Width="72" Height="72" Background="{ThemeResource SystemChromeLowColor}" 
                    CornerRadius="2" BorderThickness="0">
                <Grid.RowDefinitions>
                  <RowDefinition Height="44" />
                  <RowDefinition Height="28" />
                </Grid.RowDefinitions>
                <winUi3:MaterialIcon
                  Grid.Row="0"
                  Kind="{Binding Kind}"
                  Width="32"
                  Height="32" 
                  VerticalAlignment="Center"
                  HorizontalAlignment="Center"/>
                <TextBlock
                  Grid.Row="1"
                  Text="{Binding DisplayName}"
                  TextTrimming="CharacterEllipsis"
                  TextWrapping="NoWrap"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  FontSize="10"
                  Padding="2,0" />
              </Grid>
            </DataTemplate>
          </GridView.ItemTemplate>
          <GridView.ItemsPanel>
            <ItemsPanelTemplate>
              <ItemsWrapGrid MaximumRowsOrColumns="20" Orientation="Horizontal" />
            </ItemsPanelTemplate>
          </GridView.ItemsPanel>
        </GridView>
      </Grid>

      <!-- Sidebar with examples and info -->
      <Border Grid.Column="1" Background="{ThemeResource SystemBaseLowColor}" 
              BorderBrush="{ThemeResource SystemBaseMediumLowColor}" BorderThickness="1,0,0,0">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>

          <!-- Sidebar header -->
          <Border Grid.Row="0" Background="{ThemeResource SystemListMediumColor}" Padding="10,6">
            <TextBlock Text="Icon Usage Examples" FontWeight="SemiBold" FontSize="14" />
          </Border>

          <!-- Selected icon info -->
          <Border Grid.Row="1" BorderBrush="{ThemeResource SystemBaseMediumLowColor}" BorderThickness="0,0,0,1" 
                  Padding="10,6" Background="{ThemeResource SystemChromeMediumColor}">
            <StackPanel>
              <TextBlock Text="{Binding Group.Kind, Mode=OneWay}" 
                         FontWeight="SemiBold" FontSize="13" />
              <TextBox Text="{Binding CopyText}" Margin="0,4,0,0" IsReadOnly="True" 
                       Background="{ThemeResource SystemBaseLowColor}" Padding="6,4" />
            </StackPanel>
          </Border>

          <!-- Examples -->
          <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Padding="6,4">
            <StackPanel>
              <!-- Sample 1: Basic MaterialIcon control -->
              <Border Style="{StaticResource SampleBorderStyle}">
                <StackPanel>
                  <TextBlock Style="{StaticResource HeaderTextStyle}" Text="Basic MaterialIcon control"/>
                  <winUi3:MaterialIcon Kind="Star" Width="32" Height="32"/>
                  <TextBox Style="{StaticResource CodeBlockStyle}" 
                          Text="&lt;materialIcons:MaterialIcon Kind=&quot;Star&quot; /&gt;" />
                </StackPanel>
              </Border>
              
              <!-- Sample 2: MaterialIcon with custom color -->
              <Border Style="{StaticResource SampleBorderStyle}">
                <StackPanel>
                  <TextBlock Style="{StaticResource HeaderTextStyle}" Text="MaterialIcon with custom color"/>
                  <winUi3:MaterialIcon Kind="Heart" Width="32" Height="32" Foreground="Red"/>
                  <TextBox Style="{StaticResource CodeBlockStyle}"
                          Text="&lt;materialIcons:MaterialIcon Kind=&quot;Heart&quot; Foreground=&quot;Red&quot; /&gt;" />
                </StackPanel>
              </Border>
              
              <!-- Sample 3: MaterialIconExt markup extension -->
              <Border Style="{StaticResource SampleBorderStyle}">
                <StackPanel>
                  <TextBlock Style="{StaticResource HeaderTextStyle}" Text="MaterialIconExt markup extension"/>
                  <Button Content="{winUi3:MaterialIconExt Kind=Play}" Width="40" Height="32"/>
                  <TextBox Style="{StaticResource CodeBlockStyle}"
                          Text="&lt;Button Content=&quot;{materialIcons:MaterialIconExt Kind=Play}&quot; /&gt;" />
                </StackPanel>
              </Border>
              
              <!-- Sample 4: MaterialIconTextExt markup extension -->
              <Border Style="{StaticResource SampleBorderStyle}">
                <StackPanel>
                  <TextBlock Style="{StaticResource HeaderTextStyle}" Text="MaterialIconTextExt markup extension"/>
                  <Button Content="{winUi3:MaterialIconTextExt Kind=Play, Text=Play}" Width="120" Height="32"/>
                  <TextBox Style="{StaticResource CodeBlockStyle}"
                          Text="&lt;Button Content=&quot;{materialIcons:MaterialIconTextExt Kind=Play, Text=Play}&quot; /&gt;" />
                </StackPanel>
              </Border>

              <!-- Status text -->
              <TextBlock Text="{Binding Kinds.View.Count, Mode=OneWay, StringFormat=Showing {0} icons}" 
                        Margin="4,8,4,4" Opacity="0.7" />
            </StackPanel>
          </ScrollViewer>
        </Grid>
      </Border>
    </Grid>
  </Grid>
</Window>
